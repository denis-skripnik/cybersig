(this.webpackJsonpcybersig=this.webpackJsonpcybersig||[]).push([[0],{145:function(e,a,t){e.exports=t(311)},150:function(e,a,t){},151:function(e,a,t){},181:function(e,a){},183:function(e,a){},244:function(e,a){},245:function(e,a){},29:function(e,a,t){"use strict";(function(e){t.d(a,"c",(function(){return E})),t.d(a,"b",(function(){return f})),t.d(a,"a",(function(){return h}));var r=t(22),n=t.n(r),l=t(40),c=t(52),o=t(74),s=t(141),m=t.n(s),i=t(142),u=t.n(i),d=(t(287),t(73)),p=t.n(d),b="https://node-cyberway.golos.io";function E(e,a,t){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(n.a.mark((function e(a,t,r){var l,s,i,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=new c.JsonRpc(b),s=new m.a(a),i=new c.Api({rpc:l,signatureProvider:s,textDecoder:new o.TextDecoder,textEncoder:new o.TextEncoder}),e.next=5,i.transact(t,{blocksBehind:5,expireSeconds:3600});case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(a){var t=!1,r=function(e){return u.a.createHash("sha256").update(e).digest()};try{var n=new e(p.a.decode(a)),l=n.slice(0,-4),c=n.slice(-4),o=r(l);o=(o=r(o)).slice(0,4),c.toString()==o.toString()&&(t=!0)}catch(s){}return t}function h(e){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(n.a.mark((function e(a){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new c.JsonRpc(b,{fetch:fetch}),e.next=3,t.get_table_rows(a);case 3:if(!(r=e.sent).rows){e.next=6;break}return e.abrupt("return",r.rows);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,t(2).Buffer)},311:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(138),c=t.n(l),o=(t(150),t(139)),s=(t(151),t(8)),m=t(21),i=t(51),u=t(5),d=t(140),p=t.n(d);function b(e){return n.a.createElement("div",{className:""},n.a.createElement("div",{className:"alert alert-primary",role:"alert"},n.a.createElement("h4",null,"Content")),n.a.createElement("div",null,n.a.createElement("pre",null,JSON.stringify(e.trJson,null,2))))}function E(e){return n.a.createElement("div",{className:"p-2 border"},n.a.createElement("div",{className:"alert alert-danger",role:"alert"},n.a.createElement("h4",null,"Erroneous transaction")),n.a.createElement("div",null,n.a.createElement("p",{class:" text-danger font-weight-bold"},e.parseError)))}var v=t(29);function f(e){var a=e.auths,t=[],l=!0,c=!1,o=void 0;try{for(var s,m=a[Symbol.iterator]();!(l=(s=m.next()).done);l=!0){s.value;t.push("")}}catch(v){c=!0,o=v}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}var d=Object(r.useState)(t),p=Object(u.a)(d,2),b=p[0],E=p[1];return console.log("keys",b,b.length),n.a.createElement("form",null,n.a.createElement("div",{className:"alert alert-primary",role:"alert"},n.a.createElement("h4",null,"Signature")),b.map((function(e,t){return n.a.createElement(h,{value:e,key:""+t,auth:a[t],onChange:function(e){return function(e,a){var t=Object(i.a)(b);console.log("keys",b,"newKeys",t,"idx",e,"newKey",a),t[e]=a,console.log("newKeys",t),E(t)}(t,e)}})})),n.a.createElement("button",{onClick:function(){return e.submit(b)},type:"button",className:"btn btn-primary"},"Submit"))}function h(e){var a=e.auth,t=Object(r.useState)(""),l=Object(u.a)(t,2),c=l[0],o=l[1],s=Object(r.useState)("form-control"),m=Object(u.a)(s,2),i=m[0],d=m[1];return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"private_key"},"Private key"),n.a.createElement("input",{type:"password",className:i,id:"private_key",placeholder:"Private key",value:c,onChange:function(a){var t=a.target.value;Object(v.b)(t)?d("form-control is-valid"):d("form-control is-invalid"),o(t),e.onChange(t)}}),n.a.createElement("small",{id:"passwordHelpBlock",className:"form-text text-muted"},"Private key for actor ",a.actor,", permission ",a.permission))}function y(e){var a=e.error,t=[];if(a.error.details){t.push(n.a.createElement("hr",{key:"hd"}));var r=!0,l=!1,c=void 0;try{for(var o,s=a.error.details[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var m=o.value.message;m=m.replace("assertion failure with message: ",""),t.push(n.a.createElement("p",{key:m},m));break}}catch(i){l=!0,c=i}finally{try{r||null==s.return||s.return()}finally{if(l)throw c}}}return n.a.createElement("div",{className:"alert alert-danger",role:"alert"},n.a.createElement("h4",{className:"alert-heading"},a.message),n.a.createElement("p",null,a.error.what),t)}function g(e){var a=Object(r.useState)(),t=Object(u.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)(),s=Object(u.a)(o,2),m=s[0],i=s[1],d=p.a.parse(window.location.search),h=null,g=null;if(d.tr)try{h=JSON.parse(d.tr)}catch(w){g=w+""}if(g)return n.a.createElement(E,{parseError:g});if(!h)return n.a.createElement(E,{parseError:"Please provide parameter 'tr' with a transaction"});return m&&console.error("error",m),l&&console.log("result",l),h&&console.log("trJson",h),l?n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12 p-2 border "},n.a.createElement("div",{className:"alert alert-success",role:"alert"},n.a.createElement("h4",{className:"alert-heading"},"Success"),n.a.createElement("p",null,"Transaction ",n.a.createElement("a",{className:"alert-link",target:"_blank",href:"https://explorer.cyberway.io/trx/"+l.transaction_id},l.transaction_id))))),n.a.createElement("div",{className:"row mt-2"},n.a.createElement("div",{className:"col-sm-12 p-2 border "},n.a.createElement(b,{trJson:h})))):n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12 p-2 border "},n.a.createElement(f,{submit:function(e){console.log("submit",h),Object(v.c)(e,h).then((function(e){return c(e)})).catch((function(e){return i(e.json?e.json:{error:{what:""+e},message:"Error while signing transaction!"})}))},auths:N(h)}))),m&&n.a.createElement("div",{className:"row mt-2"},n.a.createElement("div",{className:"col-sm-12 p-2 border "},n.a.createElement(y,{error:m}))),n.a.createElement("div",{className:"row mt-2"},n.a.createElement("div",{className:"col-sm-12 p-2 border "},n.a.createElement(b,{trJson:h}))))}function N(e){if(!e||!e.actions||!e.actions.length)return[];var a=[],t=!0,r=!1,n=void 0;try{for(var l,c=e.actions[Symbol.iterator]();!(t=(l=c.next()).done);t=!0){var o=l.value;o.authorization&&o.authorization.length&&a.push.apply(a,Object(i.a)(o.authorization))}}catch(s){r=!0,n=s}finally{try{t||null==c.return||c.return()}finally{if(r)throw n}}return a}function w(e){return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mb-2"},n.a.createElement("a",{className:"navbar-brand",href:"/"},"CyberSig"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item dropdown"},n.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Tools"),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},n.a.createElement("a",{className:"dropdown-item",href:"/templates"},"Templates"),n.a.createElement("a",{className:"dropdown-item",href:"/exec"},"Execute contract action"),n.a.createElement("div",{className:"dropdown-divider"}),n.a.createElement("a",{className:"dropdown-item",href:"/create_key"},"Create key"),n.a.createElement("a",{className:"dropdown-item",href:"/associate"},"Associate key"))))))}var O=t(22),x=t.n(O),j=t(40);function S(e,a,t){return{actions:[{account:"cyber",name:"bidname",authorization:[{actor:e,permission:"active"}],data:{bidder:e,newname:a,bid:parseFloat(t).toFixed(4)+" CYBER"}}]}}function k(e){return{actions:[{account:"cyber",name:"bidrefund",authorization:[{actor:e,permission:"active"}],data:{bidder:e}}]}}function C(e,a,t,r,n){return{actions:[{account:"cyber.token",name:"transfer",authorization:[{actor:e,permission:"active"}],data:{from:e,to:a,quantity:parseFloat(t).toFixed(r.decs)+" "+r.symbol,memo:n}}]}}var B={json:!0,code:"cyber",scope:"cyber",table:"namebids",lower_bound:null,upper_bound:null,limit:50,index:"highbid",encode_type:"dec",reverse:!1,show_payer:!1};function _(e){var a=Object(r.useState)(""),t=Object(u.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)(""),m=Object(u.a)(o,2),i=m[0],d=m[1],p=Object(r.useState)(0),b=Object(u.a)(p,2),E=b[0],f=b[1],h=Object(r.useState)([]),y=Object(u.a)(h,2),g=y[0],N=y[1];return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.a)(B);case 3:a=e.sent,console.log(a),N(a),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12 border"},n.a.createElement("form",null,n.a.createElement("div",{className:"alert alert-primary",role:"alert"},n.a.createElement("h4",null,"Bid for name")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"bidder"},"Bidder"),n.a.createElement("input",{type:"text",className:"form-control",id:"bidder",placeholder:"cyberway account",value:l,onChange:function(e){return c(e.target.value)}}),n.a.createElement("small",{id:"bidderHelpBlock",className:"form-text text-muted"},"Cyberway account")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"newname"},"New name"),n.a.createElement("input",{type:"text",className:"form-control",id:"newname",placeholder:"new cyberway name",value:i,onChange:function(e){return d(e.target.value)}}),n.a.createElement("small",{id:"bidderHelpBlock",className:"form-text text-muted"},'New cyberway name, max 12 characters. Only following characters are allowed: "12345abcdefghijklmnopqrstuvwxyz"')),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"bid"},"Bid"),n.a.createElement("input",{type:"number",min:"0",className:"form-control",id:"bid",placeholder:"bid amount",value:E,onChange:function(e){return f(e.target.value)}}),n.a.createElement("small",{id:"bidderHelpBlock",className:"form-text text-muted"},"Bid amount.")),n.a.createElement(s.b,{to:"/signing?tr="+JSON.stringify(S(l,i,E)),type:"button",className:"btn btn-primary"},"Sign")))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12 border mt-3"},n.a.createElement("div",{className:"alert alert-primary",role:"alert"},n.a.createElement("h4",null,"Bid queue")),n.a.createElement("table",{className:"table table-sm table-striped table-hover"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Name"),n.a.createElement("th",{scope:"col"},"Bidder"),n.a.createElement("th",{scope:"col"},"Bid"),n.a.createElement("th",{scope:"col"},"Bid time"))),n.a.createElement("tbody",null,g.map((function(e){return n.a.createElement("tr",{key:e.newname,onClick:function(){d(e.newname),f(Math.ceil(1.1*e.high_bid)/1e4)}},n.a.createElement("td",null,e.newname),n.a.createElement("td",null,e.high_bidder),n.a.createElement("td",{className:"text-right"},(e.high_bid/1e4).toFixed(4)+" CYBER"),n.a.createElement("td",null,e.last_bid_time))})))))))}function F(e){var a=Object(r.useState)(""),t=Object(u.a)(a,2),l=t[0],c=t[1];return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12 border"},n.a.createElement("form",null,n.a.createElement("div",{className:"alert alert-primary",role:"alert"},n.a.createElement("h4",null,"Refund lost bids")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"bidder"},"Bidder"),n.a.createElement("input",{type:"text",className:"form-control",id:"bidder",placeholder:"cyberway account",value:l,onChange:function(e){return c(e.target.value)}}),n.a.createElement("small",{id:"bidderHelpBlock",className:"form-text text-muted"},"Cyberway account")),n.a.createElement(s.b,{to:"/signing?tr="+JSON.stringify(k(l)),type:"button",className:"btn btn-primary"},"Sign")))))}var J={GOLOS:{decs:3,symbol:"GOLOS"},CYBER:{decs:4,symbol:"CYBER"}};function P(e){var a=Object(r.useState)(""),t=Object(u.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)(""),m=Object(u.a)(o,2),i=m[0],d=m[1],p=Object(r.useState)(),b=Object(u.a)(p,2),E=b[0],v=b[1],f=Object(r.useState)("CYBER"),h=Object(u.a)(f,2),y=h[0],g=h[1],N=Object(r.useState)(""),w=Object(u.a)(N,2),O=w[0],x=w[1];return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12 border"},n.a.createElement("form",{className:"p-2"},n.a.createElement("div",{className:"alert alert-primary",role:"alert"},n.a.createElement("h4",null,"Transfer")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"from"},"From"),n.a.createElement("input",{type:"text",className:"form-control form-control-sm",id:"from",placeholder:"cyberway account",value:l,onChange:function(e){return c(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"to"},"To"),n.a.createElement("input",{type:"text",className:"form-control form-control-sm",id:"to",placeholder:"cyberway account",value:i,onChange:function(e){return d(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"amount"},"Amount"),n.a.createElement("input",{type:"number",min:"0",className:"form-control form-control-sm",id:"bid",placeholder:"bid amount",value:E,onChange:function(e){return v(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"asset"},"Asset"),n.a.createElement("select",{className:"form-control form-control-sm",onChange:function(e){return g(e.target.value)}},Object.keys(J).map((function(e){return n.a.createElement("option",{value:e,selected:y==e},e)})))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"memo"},"To"),n.a.createElement("input",{type:"text",className:"form-control form-control-sm",id:"memo",placeholder:"memo",value:O,onChange:function(e){return x(e.target.value)}})),n.a.createElement(s.b,{to:"/signing?tr="+JSON.stringify(C(l,i,E,J[y],O)),type:"button",className:"btn btn-primary"},"Sign")))))}function T(){return n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-4"},n.a.createElement(s.b,{to:"/templates/cyberway/transfer"},"transfer")),n.a.createElement("div",{className:"col-sm-4"},n.a.createElement("div",null,n.a.createElement(s.b,{to:"/templates/cyberway/bidname"},"bidname")),n.a.createElement("div",null,n.a.createElement(s.b,{to:"/templates/cyberway/bidrefund"},"bidrefund"))),n.a.createElement("div",{className:"col-sm-4"})))}function D(){return n.a.createElement("div",{className:"card-body"},n.a.createElement("div",null,n.a.createElement(s.b,{to:"/templates/golos/upvote"},"upvote")),n.a.createElement("div",null,n.a.createElement(s.b,{to:"/templates/golos/delegate"},"delegate")))}function R(e){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-6 mb-3"},n.a.createElement("h3",null,"Transaction templates"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-6 mb-3"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h4",null,"Cyberway")),n.a.createElement(T,null))),n.a.createElement("div",{className:"col-sm-6 mb-3"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h4",null,"Golos")),n.a.createElement(D,null)))))}function z(){return n.a.createElement("div",null,"Upvote")}function H(){return n.a.createElement("div",null,"Delegate")}function Y(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function A(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Y(t,!0).forEach((function(a){Object(o.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var q=function(e){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement(w,null))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("div",null,n.a.createElement(s.a,null,n.a.createElement(m.c,null,n.a.createElement(m.a,{exact:!0,path:"/"},n.a.createElement("h1",null,"Signing tool for cyberway!")),n.a.createElement(m.a,{exact:!0,path:"/signing"},n.a.createElement(g,{props:A({},e)})),n.a.createElement(m.a,{exact:!0,path:"/templates/"},n.a.createElement(R,{props:A({},e)})),n.a.createElement(m.a,{exact:!0,path:"/templates/cyberway/bidname"},n.a.createElement(_,{props:A({},e)})),n.a.createElement(m.a,{exact:!0,path:"/templates/cyberway/bidrefund"},n.a.createElement(F,{props:A({},e)})),n.a.createElement(m.a,{exact:!0,path:"/templates/cyberway/transfer"},n.a.createElement(P,{props:A({},e)})),n.a.createElement(m.a,{exact:!0,path:"/templates/golos/upvote"},n.a.createElement(z,{props:A({},e)})),n.a.createElement(m.a,{exact:!0,path:"/templates/golos/delegate"},n.a.createElement(H,{props:A({},e)}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[145,1,2]]]);
//# sourceMappingURL=main.4ae52e7d.chunk.js.map